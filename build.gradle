apply from: 'dependencies.gradle'

allprojects {
    task wrapper(type: Wrapper) { gradleVersion = '4.5.1' }
}

subprojects{
    apply plugin: 'java'
    apply plugin: 'jacoco'
    apply plugin: 'findbugs'
    apply plugin: 'idea'

    sourceCompatibility = 1.8

    repositories {
        mavenLocal()
        jcenter()
    }

    dependencies {
        compile "javax.annotation:jsr250-api:$javaxAnnotationsVersion"
        compile "org.aspectj:aspectjweaver:$aspectjWeaverVersion"
        compile "org.springframework:spring-context:$springVersion"
        compile "org.springframework:spring-tx:$springVersion"
        compile "org.springframework:spring-orm:$springVersion"
        compile "org.hibernate:hibernate-entitymanager:$hibernateVersion"
        compile "com.h2database:h2:$h2Version"
        compile "c3p0:c3p0:$c3p0Version"
        compile "com.google.guava:guava:$guavaVersion"
        compile "org.apache.commons:commons-lang3:$apacheLangVersion"
        compile "org.slf4j:slf4j-api:$slf4jVersion"
        compile "org.slf4j:slf4j-simple:$slf4jVersion"

        compileOnly "org.projectlombok:lombok:${lombokVersion}"

        testCompile "org.springframework:spring-test:$springVersion"
        testCompile "junit:junit:$junitVersion"
        testCompile "org.mockito:mockito-all:$mockitoVersion"
        testCompile "org.hamcrest:hamcrest-all:$hamcrestVersion"
    }

    jacoco {
        toolVersion = "0.7.5+"
    }

    jacocoTestReport {
        reports {
            xml.enabled = true
            html.enabled = true
            csv.enabled = true
        }
    }
}